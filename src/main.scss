$backgrund-color: hsl(340, 80%, 6%);
$accent-color: hsl(340, 90%, 37%);
$highlight-color: hsl(340, 86%, 3%);
$font-color: white;
$border-color: rgba(white, 0.15);

@keyframes scaleY {
   0% {
      transform: scaleY(1);
   }
   25% {
      transform: scaleY(1);
   }
   75% {
      transform: scaleY(0);
   }
   100% {
      transform: scaleY(0);
   }
 }

@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');

*, *:before, *:after {
   box-sizing: border-box;
}

body {
   background-color: $backgrund-color;
   color: $font-color;
   font-family: 'Roboto', serif;
   font-size: 24px;
   line-height: 32px;
   margin: 0;
   height: 100vh;
}

::selection {
   background-color: $accent-color;
   color: $font-color;
}

.wrapper {
   max-height: 100dvh;
}

@mixin scrollbar {
   &::-webkit-scrollbar {
      width: 15px;
      height: 15px;
   }

   &::-webkit-scrollbar-thumb {
      border-radius: 7.5px;
      background-color: $border-color;
      border: 5px solid $backgrund-color;
   }

   &::-webkit-scrollbar-corner {
      background-color: $backgrund-color;
      border-radius: 15px;
   }
}

#text {
   position: absolute;
   left: 90px;
   width: calc(100% - 90px);
   background-color: transparent;
   color: $font-color;
   font-family: 'Roboto', serif;
   height: calc(100vh);
   border: none;
   padding: 15px;
   padding-left: 6px;
   font-size: 24px;
   line-height: 36px;
   outline: none;
   white-space: nowrap;
   resize: none;
   font-display: block;
   display: block;
   color: transparent;

   @include scrollbar();
}

#line-overlay {
   background-color: transparent;
   color: $font-color;
   height: calc(100vh);
   padding: 15px;
   padding-left: 0;
   overflow: hidden;
   padding-bottom: 100px;
   width: 100%;
   pointer-events: none;

   .line {
      height: 36px;
      display: flex;
      align-items: center;
      position: relative;

      .column-data {
         width: 85px;
         display: flex;
         padding-left: 20px;
         padding-right: 10px;
         justify-content: space-between;
         align-items: flex-end;
         position: relative;
         background-color: $backgrund-color;

         .verseNumber {
            font-size: 18px;
            opacity: 0.6;
            line-height: 26px;
         }

         .syllable {
            text-align: center;
            font-size: 21px;
            height: 28px;
            line-height: 26px;
            background-color: rgba(white, .15);
            border: 1px solid rgba(white, .15);
            padding: 0 4px;
            border-radius: 6px;
         }

         .separator {
            display: block;
            height: 8px;
            border-radius: 4px;
            width: 56px;
            background-color: rgba(white, 0.15);
         }

         .header {
            display: block;
            height: 8px;
            border-radius: 4px;
            width: 56px;
            background-color: $accent-color;
         }

         .buckle {
            --borderColor: #{$border-color};
            --borderWidth: 2px;
            display: block;
            height: 36px;
            position: absolute;
            right: 0px;
            top: -4px;
            width: 8px;
            border-right: var(--borderWidth) solid var(--borderColor);

            &.first {
               height: 18px;
               top: 14px;
               border-top-right-radius: 6px;
               border-top: var(--borderWidth) solid var(--borderColor);
            }

            &.last {
               height: 18px;
               border-bottom-right-radius: 6px;
               border-bottom: var(--borderWidth) solid var(--borderColor);
            }

            &.first.last {
               top: 5px;
            }
         }
      }

      .text-highlight {
         padding-left: 11px;
         height: 32px;
         white-space: pre;
         position: relative;
         z-index: -1;

         span.header {
            color: $accent-color;
            font-weight: 700;
         }

         span.comment {
            color: $border-color;
         }

         .cursor-carret {
            display: inline;
            width: 0px;
            position: relative;
            z-index: 3;
            height: 24px;

            &::before {
               content: "";
               display: block;
               position: absolute;
               width: 1px;
               height: 32px;
               top: 0px;
               left: 0;
               background-color: yellow;
               animation: scaleY .4s infinite alternate cubic-bezier(0.4, 0, 0.6, 1);
            }
         }
      }

      &.highlight {
         &::before {
            content: "";
            display: block;
            background-color: $highlight-color;
            box-shadow: 0 0 0 2px rgba($accent-color, 0.2);
            height: 100%;
            width: calc(100% - 2px);
            position: absolute;
            left: 0;
            top: 0;
            z-index: -2;
         }

         .column-data {
            background-color: $highlight-color;
         }
      }
   }
}

.copyrights {
   max-width: calc(100% - 30px);
   position: fixed;
   font-size: 14px;
   bottom: 10px;
   right: 20px;
   padding: 5px;
   z-index: 2;
   color: $accent-color;
   opacity: 0.5;
   pointer-events: none;

}